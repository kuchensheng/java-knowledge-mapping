#分布式锁的几种实现方式

针对分布式锁的实现，目前比较常用的有以下几种方案：

+ 基于数据库实现分布式锁
+ 基于缓存（例如redis）实现分布式锁
+ 基于zookeeper实现分布式锁

## 基于数据库实现分布式锁
创建表并设置唯一性约束，想要执行某个方法，就想这个表中插入一条数据。插入成功，表示获得锁

**缺点**

* 数据库的可用性和性能将直接影响分布式锁的可用性及性能
* 没有锁失效机制，因为有可能出现成功插入数据后，服务器宕机了，对应的数据没有被删除，当服务恢复后一直获取不到锁
* 不具备阻塞锁特性，获取不到锁直接返回失败，所以需要优化获取逻辑，循环多次去获取。

## 基于Redis实现
（1）Redis有很高的性能； 

（2）Redis命令对此支持较好，实现起来比较方便

命令介绍：



